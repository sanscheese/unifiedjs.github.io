<!doctypehtml><html lang=en><meta charset=utf8><title>@jsdevtools/rehype-toc - unified</title><meta content="width=device-width,initial-scale=1"name=viewport><link href=https://github.com rel=preconnect><link href=https://images.opencollective.com rel=preconnect><link href=https://twitter-avatar.now.sh rel=preconnect><link href=https://www.npmjs.com rel=preconnect><link href=https://bundlephobia.com rel=preconnect><link href=https://www.npmtrends.com rel=preconnect><link href=/syntax-light.css rel=stylesheet><link href=/index.css rel=stylesheet><link href=/big.css rel=stylesheet media=(min-width:36em)><link href=/syntax-dark.css rel=stylesheet media=(prefers-color-scheme:dark)><link href=/dark.css rel=stylesheet media=(prefers-color-scheme:dark)><link href=https://unifiedjs.com/explore/package/@jsdevtools/rehype-toc/ rel=canonical><meta content="A rehype plugin that adds a table of contents (TOC) to the page"name=description><meta content=unified,rehype,plugin,rehype-plugin,table-of-contents,toc,html,parse,stringify,process,ast,transform name=keywords><meta content="unified collective"name=author><meta content="© 2020 unified collective"name=copyright><meta content=#0366d6 name=theme-color><meta content=website property=og:type><meta content=unified property=og:site_name><meta content=https://unifiedjs.com/explore/package/@jsdevtools/rehype-toc/ property=og:url><meta content=@jsdevtools/rehype-toc property=og:title><meta content="A rehype plugin that adds a table of contents (TOC) to the page"property=og:description><meta content=https://unifiedjs.com/image/cover-1200.png property=og:image><meta content="We compile content to syntax trees and syntax trees to content. We also provide hundreds of packages to work on the trees in between. You can build on the unified collective to make all kinds of interesting things."property=og:image:alt><meta content=1200 property=og:image:width><meta content=690 property=og:image:height><meta content=summary_large_image name=twitter:card><meta content=https://unifiedjs.com/image/cover-1200.png name=twitter:image><meta content="We compile content to syntax trees and syntax trees to content. We also provide hundreds of packages to work on the trees in between. You can build on the unified collective to make all kinds of interesting things."name=twitter:image:alt><meta content=@unifiedjs name=twitter:site><script defer src=/search.js></script><header class=container><div class=row-l><h1><a href=/ class=unified><span class=hl>uni</span>fied</a></h1><nav class="flex row-l"aria-label="Main navigation"><ol class="row flex"><li><a href=/explore/>Explore</a><li><a href=/learn/>Learn</a><li><a href=/community/>Community</a></ol><ol class="row justify-end-l x-show-l"><li><a href=https://twitter.com/unifiedjs><svg class="icon x-show-l"height=24 viewBox="0 0 18 14"width=24 aria-label=Twitter role=img><path d="M18 1.684l-1.687 1.684v.28c0 .307-.05.602-.123.886-.04 2.316-.777 5.387-3.816 7.81C6.404 17.115 0 12.907 0 12.907c5.063 0 5.063-1.684 5.063-1.684-1.126 0-3.376-2.243-3.376-2.243.563.56 1.689 0 1.689 0C.56 7.295.56 5.61.56 5.61c.563.561 1.689 0 1.689 0C-.563 3.368 1.124.561 1.124.561 1.687 3.368 9 4.49 9 4.49l.093-.046A6.637 6.637 0 0 1 9 3.368C9 1.353 10.636 0 12.656 0c1.112 0 2.094.506 2.765 1.286l.329-.163L17.437 0l-1.122 2.245L18 1.684z"fill=currentcolor /></svg><span class=x-hide-l>Twitter</span></a><li><a href=https://github.com/unifiedjs><svg class="icon x-show-l"height=24 viewBox="0 0 48 48"width=24 aria-label=GitHub role=img><path d="M23.928 1.15C11 1.15.514 11.638.514 24.566c0 10.343 6.75 19.105 15.945 22.265 1.148.144 1.58-.574 1.58-1.15v-4.02c-6.465 1.436-7.902-3.16-7.902-3.16-1.005-2.73-2.586-3.45-2.586-3.45-2.154-1.435.144-1.435.144-1.435 2.298.144 3.59 2.442 3.59 2.442 2.156 3.59 5.46 2.586 6.753 2.01.142-1.58.86-2.585 1.435-3.16-5.17-.574-10.63-2.585-10.63-11.635 0-2.585.862-4.596 2.442-6.32-.287-.575-1.005-3.017.288-6.177 0 0 2.01-.574 6.464 2.442 1.866-.574 3.877-.718 5.888-.718 2.01 0 4.022.286 5.89.717 4.453-3.016 6.464-2.442 6.464-2.442 1.293 3.16.43 5.602.287 6.177a9.29 9.29 0 012.44 6.32c0 9.05-5.458 10.918-10.63 11.492.863.718 1.58 2.155 1.58 4.31v6.464c0 .574.432 1.292 1.58 1.15 9.338-3.16 15.946-11.924 15.946-22.266-.143-12.785-10.63-23.27-23.558-23.27z"fill=currentcolor fill-rule=evenodd clip-rule=evenodd /></svg><span class=x-hide-l>GitHub</span></a></ol></nav></div></header><section class=container><div class="row-l column-nl"><hgroup class=column><h2><span class="label x-hide-l medlight">Project:</span><a href=/explore/project/JS-DevTools>JS-DevTools</a><span class="lowlight separator">/</span><a href=/explore/project/JS-DevTools/rehype-toc>rehype-toc</a></h2><h3 class=content><span class="label x-hide-l medlight">Package:</span><a href=/explore/package/@jsdevtools>@jsdevtools</a><span class="lowlight separator">/</span><a href=/explore/package/@jsdevtools/rehype-toc>rehype-toc</a><span class="lowlight separator">@</span><span class=medlight>3.0.0</span></h3></hgroup><ol class="flex column ellipsis-l"><li><a href=https://www.npmjs.com/package/@jsdevtools/rehype-toc class=tap-target><span class=label>Dependencies:</span>0</a><span class="lowlight separator">·</span><a href=https://www.npmjs.com/browse/depended/@jsdevtools/rehype-toc class=tap-target><span class=label>Dependents:</span>0</a><li class="content ellipsis">A rehype plugin that adds a table of contents (TOC) to the page</ol><div class=column><ol class="row justify-end-l"><li style=color:#bbc540><svg class=icon height=18 viewBox="0 0 12 16"width=18 aria-label=Score role=img><path d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"fill=currentcolor fill-rule=evenodd /></svg> 66%<li><a href=https://opensource.org/licenses/MIT class=tap-target><svg class=icon height=18 viewBox="0 0 14 16"width=18 aria-label=License role=img><path d="M7 4c-.83 0-1.5-.67-1.5-1.5S6.17 1 7 1s1.5.67 1.5 1.5S7.83 4 7 4zm7 6c0 1.11-.89 2-2 2h-1c-1.11 0-2-.89-2-2l2-4h-1c-.55 0-1-.45-1-1H8v8c.42 0 1 .45 1 1h1c.42 0 1 .45 1 1H3c0-.55.58-1 1-1h1c0-.55.58-1 1-1h.03L6 5H5c0 .55-.45 1-1 1H3l2 4c0 1.11-.89 2-2 2H2c-1.11 0-2-.89-2-2l2-4H1V5h3c0-.55.45-1 1-1h4c.55 0 1 .45 1 1h3v1h-1l2 4zM2.5 7L1 10h3L2.5 7zM13 10l-1.5-3-1.5 3h3z"fill=currentcolor fill-rule=evenodd /></svg> MIT</a><li><a href=https://github.com/JS-DevTools/rehype-toc/stargazers class=tap-target><svg class=icon height=18 viewBox="0 0 14 16"width=18 aria-label=Stars role=img><path d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z"fill=currentcolor fill-rule=evenodd /></svg> 3</a><li><a href=https://github.com/JS-DevTools/rehype-toc class=tap-target><svg class=icon height=18 viewBox="0 0 48 48"width=18 aria-label=GitHub role=img><path d="M23.928 1.15C11 1.15.514 11.638.514 24.566c0 10.343 6.75 19.105 15.945 22.265 1.148.144 1.58-.574 1.58-1.15v-4.02c-6.465 1.436-7.902-3.16-7.902-3.16-1.005-2.73-2.586-3.45-2.586-3.45-2.154-1.435.144-1.435.144-1.435 2.298.144 3.59 2.442 3.59 2.442 2.156 3.59 5.46 2.586 6.753 2.01.142-1.58.86-2.585 1.435-3.16-5.17-.574-10.63-2.585-10.63-11.635 0-2.585.862-4.596 2.442-6.32-.287-.575-1.005-3.017.288-6.177 0 0 2.01-.574 6.464 2.442 1.866-.574 3.877-.718 5.888-.718 2.01 0 4.022.286 5.89.717 4.453-3.016 6.464-2.442 6.464-2.442 1.293 3.16.43 5.602.287 6.177a9.29 9.29 0 012.44 6.32c0 9.05-5.458 10.918-10.63 11.492.863.718 1.58 2.155 1.58 4.31v6.464c0 .574.432 1.292 1.58 1.15 9.338-3.16 15.946-11.924 15.946-22.266-.143-12.785-10.63-23.27-23.558-23.27z"fill=currentcolor fill-rule=evenodd clip-rule=evenodd /></svg></a></ol><ol class="row justify-end-l"><li><a href="https://bundlephobia.com/result?p=@jsdevtools/rehype-toc"class=tap-target>1.67 kB</a><li><a href="https://bundlephobia.com/result?p=@jsdevtools/rehype-toc"class=tap-target>CJS</a><li><a href=https://www.npmtrends.com/@jsdevtools/rehype-toc class=tap-target><svg class=icon height=18 viewBox="1 1 8 14"width=18 aria-label=downloads role=img><path d="M7 7V3H3v4H0l5 6 5-6H7z"fill=currentcolor fill-rule=evenodd /></svg> 33</a><li><a href=https://www.npmjs.com/package/@jsdevtools/rehype-toc class=tap-target><svg class=icon height=18 viewBox="3.8 3.8 19.7 19.7"width=18 aria-label=npm role=img><path d="M5.8 21.75h7.86l.01-11.77h3.92l-.01 11.78h3.93l.01-15.7-15.7-.02-.02 15.71z"fill=currentcolor /></svg></a></ol></div></div><div class=block><ol class=flow><li class=inline-block><a href=/explore/keyword/unified/ class=tag>unified <span class=count>130</span></a><li class=inline-block><a href=/explore/keyword/plugin/ class=tag>plugin <span class=count>83</span></a><li class=inline-block><a href=/explore/keyword/rehype/ class=tag>rehype <span class=count>73</span></a><li class=inline-block><a href=/explore/keyword/html/ class=tag>html <span class=count>53</span></a><li class=inline-block><a href=/explore/keyword/rehype-plugin/ class=tag>rehype-plugin <span class=count>3</span></a><li class=inline-block><a href=/explore/keyword/toc/ class=tag>toc <span class=count>3</span></a></ol></div></section><main class=container><div class="content readme"><h1 id=table-of-contents-plugin-for-rehype><a href=#table-of-contents-plugin-for-rehype class=anchor aria-label="Link to self"><svg class=icon height=18 viewBox="0 0 50 50"width=18 aria-hidden=true><path d="M45.647 20.955L33.339 33.263a8.7 8.7 0 01-12.308 0l-4.103-4.103 4.103-4.102 4.102 4.102a2.903 2.903 0 004.103 0l12.307-12.307a2.907 2.907 0 000-4.104l-4.102-4.103a2.906 2.906 0 00-4.103 0l-4.394 4.395a11.542 11.542 0 00-6.644-1.559l6.936-6.938c3.4-3.399 8.91-3.399 12.307 0l4.103 4.102a8.702 8.702 0 010 12.309zM21.32 37.076l-4.392 4.391a2.903 2.903 0 01-4.102 0l-4.103-4.102a2.9 2.9 0 010-4.103L21.03 20.954a2.906 2.906 0 014.103 0l4.102 4.103 4.102-4.103-4.102-4.102a8.704 8.704 0 00-12.308 0L4.621 29.159a8.7 8.7 0 000 12.308l4.102 4.102c3.397 3.4 8.908 3.4 12.308 0l6.936-6.936a11.602 11.602 0 01-6.647-1.558z"fill=currentcolor /></svg></a>Table of Contents plugin for Rehype</h1><p>A <a href=/explore/project/rehypejs/rehype/>rehype</a> plugin that adds a table of contents (TOC) to the page<p><a href=https://github.com/JS-DevTools/rehype-toc/blob/master/.github/workflows/CI-CD.yaml rel="nofollow noopener noreferrer"><img alt="Cross-Platform Compatibility"src=https://jstools.dev/img/badges/os-badges.svg></a> <a href=https://github.com/JS-DevTools/rehype-toc/blob/master/.github/workflows/CI-CD.yaml rel="nofollow noopener noreferrer"><img alt="Build Status"src="https://github.com/JS-DevTools/rehype-toc/workflows/CI-CD/badge.svg?raw=true"></a><p><a href=https://coveralls.io/github/JS-DevTools/rehype-toc rel="nofollow noopener noreferrer"><img alt="Coverage Status"src="https://coveralls.io/repos/github/JS-DevTools/rehype-toc/badge.svg?branch=master"></a> <a href=https://david-dm.org/JS-DevTools/rehype-toc rel="nofollow noopener noreferrer"><img alt=Dependencies src=https://david-dm.org/JS-DevTools/rehype-toc.svg></a><p><a href=#><img alt=npm src=https://img.shields.io/npm/v/@jsdevtools/rehype-toc.svg></a> <a href=https://github.com/JS-DevTools/rehype-toc/blob/master/LICENSE rel="nofollow noopener noreferrer"><img alt=License src=https://img.shields.io/npm/l/@jsdevtools/rehype-toc.svg></a><h2 id=features><a href=#features class=anchor aria-label="Link to self"><svg class=icon height=18 viewBox="0 0 50 50"width=18 aria-hidden=true><path d="M45.647 20.955L33.339 33.263a8.7 8.7 0 01-12.308 0l-4.103-4.103 4.103-4.102 4.102 4.102a2.903 2.903 0 004.103 0l12.307-12.307a2.907 2.907 0 000-4.104l-4.102-4.103a2.906 2.906 0 00-4.103 0l-4.394 4.395a11.542 11.542 0 00-6.644-1.559l6.936-6.938c3.4-3.399 8.91-3.399 12.307 0l4.103 4.102a8.702 8.702 0 010 12.309zM21.32 37.076l-4.392 4.391a2.903 2.903 0 01-4.102 0l-4.103-4.102a2.9 2.9 0 010-4.103L21.03 20.954a2.906 2.906 0 014.103 0l4.102 4.103 4.102-4.103-4.102-4.102a8.704 8.704 0 00-12.308 0L4.621 29.159a8.7 8.7 0 000 12.308l4.102 4.102c3.397 3.4 8.908 3.4 12.308 0l6.936-6.936a11.602 11.602 0 01-6.647-1.558z"fill=currentcolor /></svg></a>Features</h2><ul><li>Adds a <code>&#60nav></code> and <code>&#60ol></code> list outlining all headings on the page<li>Combine with <a href=/explore/package/rehype-slug/>rehype-slug</a> to create links to each heading<li>Ignores headings outside of <code>&#60main></code> if it exists<li>You can customize which headings are included (defaults to <code>&#60h1></code> - <code>&#60h6></code>)<li>You can customize the CSS classes on every TOC element<li>Hooks give you complete customization of the generated HTML</ul><h2 id=example><a href=#example class=anchor aria-label="Link to self"><svg class=icon height=18 viewBox="0 0 50 50"width=18 aria-hidden=true><path d="M45.647 20.955L33.339 33.263a8.7 8.7 0 01-12.308 0l-4.103-4.103 4.103-4.102 4.102 4.102a2.903 2.903 0 004.103 0l12.307-12.307a2.907 2.907 0 000-4.104l-4.102-4.103a2.906 2.906 0 00-4.103 0l-4.394 4.395a11.542 11.542 0 00-6.644-1.559l6.936-6.938c3.4-3.399 8.91-3.399 12.307 0l4.103 4.102a8.702 8.702 0 010 12.309zM21.32 37.076l-4.392 4.391a2.903 2.903 0 01-4.102 0l-4.103-4.102a2.9 2.9 0 010-4.103L21.03 20.954a2.906 2.906 0 014.103 0l4.102 4.103 4.102-4.103-4.102-4.102a8.704 8.704 0 00-12.308 0L4.621 29.159a8.7 8.7 0 000 12.308l4.102 4.102c3.397 3.4 8.908 3.4 12.308 0l6.936-6.936a11.602 11.602 0 01-6.647-1.558z"fill=currentcolor /></svg></a>Example</h2><p><strong>input.html</strong><br>Here's the original HTML file. There are three levels of headings (<code>&#60h1></code> - <code>&#60h3></code>), and none of them have IDs.<pre><code class="hljs language-html"><span class=hljs-tag>&lt;<span class=hljs-name>html</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>body</span>></span>
    <span class=hljs-tag>&lt;<span class=hljs-name>h1</span>></span>Apple Pie Recipe<span class=hljs-tag>&#60/<span class=hljs-name>h1</span>></span>
    <span class=hljs-tag>&lt;<span class=hljs-name>p</span>></span>This is the world's best apple pie recipe...<span class=hljs-tag>&#60/<span class=hljs-name>p</span>></span>

    <span class=hljs-tag>&lt;<span class=hljs-name>div</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>h2</span>></span>Filling<span class=hljs-tag>&#60/<span class=hljs-name>h2</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>p</span>></span>The filling is the best part...<span class=hljs-tag>&#60/<span class=hljs-name>p</span>></span>

      <span class=hljs-tag>&lt;<span class=hljs-name>h3</span>></span>Preparing the apples<span class=hljs-tag>&#60/<span class=hljs-name>h3</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>p</span>></span>Cut the apples into 1/4 inch slices...<span class=hljs-tag>&#60/<span class=hljs-name>p</span>></span>

      <span class=hljs-tag>&lt;<span class=hljs-name>h3</span>></span>Preparing the spice mix<span class=hljs-tag>&#60/<span class=hljs-name>h3</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>p</span>></span>In a mixing bowl, combine sugar, cinnamon...<span class=hljs-tag>&#60/<span class=hljs-name>p</span>></span>
    <span class=hljs-tag>&#60/<span class=hljs-name>div</span>></span>

    <span class=hljs-tag>&lt;<span class=hljs-name>div</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>h2</span>></span>Crust<span class=hljs-tag>&#60/<span class=hljs-name>h2</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>p</span>></span>How to make the perfect flaky crust...<span class=hljs-tag>&#60/<span class=hljs-name>p</span>></span>

      <span class=hljs-tag>&lt;<span class=hljs-name>h3</span>></span>Preparing the dough<span class=hljs-tag>&#60/<span class=hljs-name>h3</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>p</span>></span>Combine flour, sugar, salt...<span class=hljs-tag>&#60/<span class=hljs-name>p</span>></span>

      <span class=hljs-tag>&lt;<span class=hljs-name>h3</span>></span>The criss-cross top<span class=hljs-tag>&#60/<span class=hljs-name>h3</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>p</span>></span>Cut the top crust into 1/2 inch strips...<span class=hljs-tag>&#60/<span class=hljs-name>p</span>></span>
    <span class=hljs-tag>&#60/<span class=hljs-name>div</span>></span>
  <span class=hljs-tag>&#60/<span class=hljs-name>body</span>></span>
<span class=hljs-tag>&#60/<span class=hljs-name>html</span>></span>
</code></pre><p><strong>example.js</strong><br>This script reads the <code>input.html</code> file above writes the results to <code>output.html</code> (shown below). The script uses <a href=/>unified</a>, <a href=/explore/package/rehype-parse/>rehype-parse</a>, <a href=/explore/package/rehype-slug/>rehype-slug</a>, and <a href=/explore/package/rehype-stringify/>rehype-stringify</a>.<pre><code class="hljs language-javascript"><span class=hljs-keyword>const</span> unified = <span class=hljs-built_in>require</span>(<span class=hljs-string>"unified"</span>);
<span class=hljs-keyword>const</span> parse = <span class=hljs-built_in>require</span>(<span class=hljs-string>"rehype-parse"</span>);
<span class=hljs-keyword>const</span> slug = <span class=hljs-built_in>require</span>(<span class=hljs-string>"rehype-slug"</span>);
<span class=hljs-keyword>const</span> toc = <span class=hljs-built_in>require</span>(<span class=hljs-string>"@jsdevtools/rehype-toc"</span>);
<span class=hljs-keyword>const</span> stringify = <span class=hljs-built_in>require</span>(<span class=hljs-string>"rehype-stringify"</span>);
<span class=hljs-keyword>const</span> fs = <span class=hljs-built_in>require</span>(<span class=hljs-string>"fs"</span>);

<span class=hljs-keyword>async</span> <span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>example</span>(<span class=hljs-params></span>) </span>{
  <span class=hljs-comment>// Create a Rehype processor with the TOC plugin</span>
  <span class=hljs-keyword>const</span> processor = unified()
    .use(parse)
    .use(slug)
    .use(toc)
    .use(stringify);

  <span class=hljs-comment>// Read the original HTML file</span>
  <span class=hljs-keyword>let</span> inputHTML = <span class=hljs-keyword>await</span> fs.promises.readFile(<span class=hljs-string>"input.html"</span>);

  <span class=hljs-comment>// Process the HTML, adding heading IDs and Table of Contents</span>
  <span class=hljs-keyword>let</span> outputHTML = <span class=hljs-keyword>await</span> processor.process(inputHTML);

  <span class=hljs-comment>// Save the new HTML</span>
  <span class=hljs-keyword>await</span> fs.promises.writeFile(<span class=hljs-string>"output.html"</span>, outputHTML);
}
</code></pre><p><strong>output.html</strong><br>Here's the HTML that gets created by the above script. Notice that a table of contents has been added at the top of the <code>&#60body></code>, with links to each of the headings on the page. The headings also now have IDs, thanks to <a href=/explore/package/rehype-slug/>rehype-slug</a>.<pre><code class="hljs language-html"><span class=hljs-tag>&lt;<span class=hljs-name>html</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>body</span>></span>
    <span class=hljs-tag>&lt;<span class=hljs-name>nav</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"toc"</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>ol</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"toc-level toc-level-1"</span>></span>
        <span class=hljs-tag>&lt;<span class=hljs-name>li</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"toc-item toc-item-h1"</span>></span>
          <span class=hljs-tag>&lt;<span class=hljs-name>a</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"toc-link toc-link-h1"</span> <span class=hljs-attr>href</span>=<span class=hljs-string>"#apple-pie-recipe"</span>></span>
            Apple Pie Recipe
          <span class=hljs-tag>&#60/<span class=hljs-name>a</span>></span>

          <span class=hljs-tag>&lt;<span class=hljs-name>ol</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"toc-level toc-level-2"</span>></span>
            <span class=hljs-tag>&lt;<span class=hljs-name>li</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"toc-item toc-item-h2"</span>></span>
              <span class=hljs-tag>&lt;<span class=hljs-name>a</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"toc-link toc-link-h2"</span> <span class=hljs-attr>href</span>=<span class=hljs-string>"#filling"</span>></span>
                Filling
              <span class=hljs-tag>&#60/<span class=hljs-name>a</span>></span>

              <span class=hljs-tag>&lt;<span class=hljs-name>ol</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"toc-level toc-level-3"</span>></span>
                <span class=hljs-tag>&lt;<span class=hljs-name>li</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"toc-item toc-item-h3"</span>></span>
                  <span class=hljs-tag>&lt;<span class=hljs-name>a</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"toc-link toc-link-h3"</span> <span class=hljs-attr>href</span>=<span class=hljs-string>"#preparing-the-apples"</span>></span>
                    Preparing the apples
                  <span class=hljs-tag>&#60/<span class=hljs-name>a</span>></span>
                <span class=hljs-tag>&#60/<span class=hljs-name>li</span>></span>
                <span class=hljs-tag>&lt;<span class=hljs-name>li</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"toc-item toc-item-h3"</span>></span>
                  <span class=hljs-tag>&lt;<span class=hljs-name>a</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"toc-link toc-link-h3"</span> <span class=hljs-attr>href</span>=<span class=hljs-string>"#preparing-the-spice-mix"</span>></span>
                    Preparing the spice mix
                  <span class=hljs-tag>&#60/<span class=hljs-name>a</span>></span>
                <span class=hljs-tag>&#60/<span class=hljs-name>li</span>></span>
              <span class=hljs-tag>&#60/<span class=hljs-name>ol</span>></span>
            <span class=hljs-tag>&#60/<span class=hljs-name>li</span>></span>

            <span class=hljs-tag>&lt;<span class=hljs-name>li</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"toc-item toc-item-h2"</span>></span>
              <span class=hljs-tag>&lt;<span class=hljs-name>a</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"toc-link toc-link-h2"</span> <span class=hljs-attr>href</span>=<span class=hljs-string>"#crust"</span>></span>
                Crust
              <span class=hljs-tag>&#60/<span class=hljs-name>a</span>></span>

              <span class=hljs-tag>&lt;<span class=hljs-name>ol</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"toc-level toc-level-3"</span>></span>
                <span class=hljs-tag>&lt;<span class=hljs-name>li</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"toc-item toc-item-h3"</span>></span>
                  <span class=hljs-tag>&lt;<span class=hljs-name>a</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"toc-link toc-link-h3"</span> <span class=hljs-attr>href</span>=<span class=hljs-string>"#preparing-the-dough"</span>></span>
                    Preparing the dough
                  <span class=hljs-tag>&#60/<span class=hljs-name>a</span>></span>
                <span class=hljs-tag>&#60/<span class=hljs-name>li</span>></span>
                <span class=hljs-tag>&lt;<span class=hljs-name>li</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"toc-item toc-item-h3"</span>></span>
                  <span class=hljs-tag>&lt;<span class=hljs-name>a</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"toc-link toc-link-h3"</span> <span class=hljs-attr>href</span>=<span class=hljs-string>"#the-criss-cross-top"</span>></span>
                    The criss-cross top
                  <span class=hljs-tag>&#60/<span class=hljs-name>a</span>></span>
                <span class=hljs-tag>&#60/<span class=hljs-name>li</span>></span>
              <span class=hljs-tag>&#60/<span class=hljs-name>ol</span>></span>
            <span class=hljs-tag>&#60/<span class=hljs-name>li</span>></span>
          <span class=hljs-tag>&#60/<span class=hljs-name>ol</span>></span>
        <span class=hljs-tag>&#60/<span class=hljs-name>li</span>></span>
      <span class=hljs-tag>&#60/<span class=hljs-name>ol</span>></span>
    <span class=hljs-tag>&#60/<span class=hljs-name>nav</span>></span>

    <span class=hljs-tag>&lt;<span class=hljs-name>h1</span> <span class=hljs-attr>id</span>=<span class=hljs-string>"apple-pie-recipe"</span>></span>Apple Pie Recipe<span class=hljs-tag>&#60/<span class=hljs-name>h1</span>></span>
    <span class=hljs-tag>&lt;<span class=hljs-name>p</span>></span>This is the world's best apple pie recipe...<span class=hljs-tag>&#60/<span class=hljs-name>p</span>></span>

    <span class=hljs-tag>&lt;<span class=hljs-name>div</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>h2</span> <span class=hljs-attr>id</span>=<span class=hljs-string>"filling"</span>></span>Filling<span class=hljs-tag>&#60/<span class=hljs-name>h2</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>p</span>></span>The filling is the best part...<span class=hljs-tag>&#60/<span class=hljs-name>p</span>></span>

      <span class=hljs-tag>&lt;<span class=hljs-name>h3</span> <span class=hljs-attr>id</span>=<span class=hljs-string>"preparing-the-apples"</span>></span>Preparing the apples<span class=hljs-tag>&#60/<span class=hljs-name>h3</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>p</span>></span>Cut the apples into 1/4 inch slices...<span class=hljs-tag>&#60/<span class=hljs-name>p</span>></span>

      <span class=hljs-tag>&lt;<span class=hljs-name>h3</span> <span class=hljs-attr>id</span>=<span class=hljs-string>"preparing-the-spice-mix"</span>></span>Preparing the spice mix<span class=hljs-tag>&#60/<span class=hljs-name>h3</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>p</span>></span>In a mixing bowl, combine sugar, cinnamon...<span class=hljs-tag>&#60/<span class=hljs-name>p</span>></span>
    <span class=hljs-tag>&#60/<span class=hljs-name>div</span>></span>

    <span class=hljs-tag>&lt;<span class=hljs-name>div</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>h2</span> <span class=hljs-attr>id</span>=<span class=hljs-string>"crust"</span>></span>Crust<span class=hljs-tag>&#60/<span class=hljs-name>h2</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>p</span>></span>How to make the perfect flaky crust...<span class=hljs-tag>&#60/<span class=hljs-name>p</span>></span>

      <span class=hljs-tag>&lt;<span class=hljs-name>h3</span> <span class=hljs-attr>id</span>=<span class=hljs-string>"preparing-the-dough"</span>></span>Preparing the dough<span class=hljs-tag>&#60/<span class=hljs-name>h3</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>p</span>></span>Combine flour, sugar, salt...<span class=hljs-tag>&#60/<span class=hljs-name>p</span>></span>

      <span class=hljs-tag>&lt;<span class=hljs-name>h3</span> <span class=hljs-attr>id</span>=<span class=hljs-string>"the-criss-cross-top"</span>></span>The criss-cross top<span class=hljs-tag>&#60/<span class=hljs-name>h3</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>p</span>></span>Cut the top crust into 1/2 inch strips...<span class=hljs-tag>&#60/<span class=hljs-name>p</span>></span>
    <span class=hljs-tag>&#60/<span class=hljs-name>div</span>></span>
  <span class=hljs-tag>&#60/<span class=hljs-name>body</span>></span>
<span class=hljs-tag>&#60/<span class=hljs-name>html</span>></span>
</code></pre><h2 id=installation><a href=#installation class=anchor aria-label="Link to self"><svg class=icon height=18 viewBox="0 0 50 50"width=18 aria-hidden=true><path d="M45.647 20.955L33.339 33.263a8.7 8.7 0 01-12.308 0l-4.103-4.103 4.103-4.102 4.102 4.102a2.903 2.903 0 004.103 0l12.307-12.307a2.907 2.907 0 000-4.104l-4.102-4.103a2.906 2.906 0 00-4.103 0l-4.394 4.395a11.542 11.542 0 00-6.644-1.559l6.936-6.938c3.4-3.399 8.91-3.399 12.307 0l4.103 4.102a8.702 8.702 0 010 12.309zM21.32 37.076l-4.392 4.391a2.903 2.903 0 01-4.102 0l-4.103-4.102a2.9 2.9 0 010-4.103L21.03 20.954a2.906 2.906 0 014.103 0l4.102 4.103 4.102-4.103-4.102-4.102a8.704 8.704 0 00-12.308 0L4.621 29.159a8.7 8.7 0 000 12.308l4.102 4.102c3.397 3.4 8.908 3.4 12.308 0l6.936-6.936a11.602 11.602 0 01-6.647-1.558z"fill=currentcolor /></svg></a>Installation</h2><p>You can install Rehype TOC via <a href=https://docs.npmjs.com/about-npm/ rel="nofollow noopener noreferrer">npm</a>.<pre><code class="hljs language-bash">npm install @jsdevtools/rehype-toc
</code></pre><p>You'll probably want to install <a href=/>unified</a>, <a href=/explore/package/rehype-parse/>rehype-parse</a>, <a href=/explore/package/rehype-stringify/>rehype-stringify</a>, and <a href=/explore/package/rehype-slug/>rehype-slug</a> as well.<pre><code class="hljs language-bash">npm install unified rehype-parse rehype-stringify rehype-slug
</code></pre><h2 id=usage><a href=#usage class=anchor aria-label="Link to self"><svg class=icon height=18 viewBox="0 0 50 50"width=18 aria-hidden=true><path d="M45.647 20.955L33.339 33.263a8.7 8.7 0 01-12.308 0l-4.103-4.103 4.103-4.102 4.102 4.102a2.903 2.903 0 004.103 0l12.307-12.307a2.907 2.907 0 000-4.104l-4.102-4.103a2.906 2.906 0 00-4.103 0l-4.394 4.395a11.542 11.542 0 00-6.644-1.559l6.936-6.938c3.4-3.399 8.91-3.399 12.307 0l4.103 4.102a8.702 8.702 0 010 12.309zM21.32 37.076l-4.392 4.391a2.903 2.903 0 01-4.102 0l-4.103-4.102a2.9 2.9 0 010-4.103L21.03 20.954a2.906 2.906 0 014.103 0l4.102 4.103 4.102-4.103-4.102-4.102a8.704 8.704 0 00-12.308 0L4.621 29.159a8.7 8.7 0 000 12.308l4.102 4.102c3.397 3.4 8.908 3.4 12.308 0l6.936-6.936a11.602 11.602 0 01-6.647-1.558z"fill=currentcolor /></svg></a>Usage</h2><p>Using the Rehype TOC plugin requires an understanding of how to use Unified and Rehype. <a href=/using-unified.html>Here is an excelleng guide</a> to learn the basics.<p>The Rehype TOC plugin works just like any other Rehype plugin. Pass it to <a href=/explore/package/unified/#processoruseplugin-options>the <code>.use()</code> method</a>, optionally with an <a href=#options>options object</a>.<pre><code class="hljs language-javascript"><span class=hljs-keyword>const</span> unified = <span class=hljs-built_in>require</span>(<span class=hljs-string>"unified"</span>);
<span class=hljs-keyword>const</span> toc = <span class=hljs-built_in>require</span>(<span class=hljs-string>"@jsdevtools/rehype-toc"</span>);

<span class=hljs-comment>// Use the Rehype TOC plugin with its default options</span>
unified().use(toc);

<span class=hljs-comment>// Use the Rehype TOC plugin with custom options</span>
unified().use(toc, {
  <span class=hljs-attr>headings</span>: [<span class=hljs-string>"h1"</span>, <span class=hljs-string>"h2"</span>],     <span class=hljs-comment>// Only include &#60h1> and &#60h2> headings in the TOC</span>
  <span class=hljs-attr>cssClasses</span>: {
    <span class=hljs-attr>toc</span>: <span class=hljs-string>"page-outline"</span>,      <span class=hljs-comment>// Change the CSS class for the TOC</span>
    <span class=hljs-attr>link</span>: <span class=hljs-string>"page-link"</span>,        <span class=hljs-comment>// Change the CSS class for links in the TOC</span>
  }
});
</code></pre><h2 id=options><a href=#options class=anchor aria-label="Link to self"><svg class=icon height=18 viewBox="0 0 50 50"width=18 aria-hidden=true><path d="M45.647 20.955L33.339 33.263a8.7 8.7 0 01-12.308 0l-4.103-4.103 4.103-4.102 4.102 4.102a2.903 2.903 0 004.103 0l12.307-12.307a2.907 2.907 0 000-4.104l-4.102-4.103a2.906 2.906 0 00-4.103 0l-4.394 4.395a11.542 11.542 0 00-6.644-1.559l6.936-6.938c3.4-3.399 8.91-3.399 12.307 0l4.103 4.102a8.702 8.702 0 010 12.309zM21.32 37.076l-4.392 4.391a2.903 2.903 0 01-4.102 0l-4.103-4.102a2.9 2.9 0 010-4.103L21.03 20.954a2.906 2.906 0 014.103 0l4.102 4.103 4.102-4.103-4.102-4.102a8.704 8.704 0 00-12.308 0L4.621 29.159a8.7 8.7 0 000 12.308l4.102 4.102c3.397 3.4 8.908 3.4 12.308 0l6.936-6.936a11.602 11.602 0 01-6.647-1.558z"fill=currentcolor /></svg></a>Options</h2><p>The Rehype TOC plugin supports the following options:<table><thead><tr><th align=left>Option<th align=left>Type<th align=left>Default<th align=left>Description<tbody><tr><td align=left><code>nav</code><td align=left>boolean<td align=left>true<td align=left>Determines whether the table of contents is wrapped in a <code>&#60nav></code> element.<tr><td align=left><code>position</code><td align=left>string<td align=left>"afterbegin"<td align=left>The position at which the table of contents should be inserted, relative to the <code>&#60main></code> or <code>&#60body></code> element. Can be "beforebegin", "afterbegin", "beforeend", or "afterend". See <a href=https://developer.mozilla.org/en-US/docs/Web/API/Element/insertAdjacentElement rel="nofollow noopener noreferrer">the <code>insertAdjacentElement()</code> docs</a> for an explanation of each value.<tr><td align=left><code>headings</code><td align=left>array of strings<td align=left>h1, h2, h3, h4, h5, h6<td align=left>The HTML heading tags to include in the table of contents<tr><td align=left><code>cssClasses.toc</code><td align=left>string<td align=left>toc<td align=left>The CSS class name for the top-level <code>&#60nav></code> or <code>&#60ol></code> element that contains the whole table of contents.<tr><td align=left><code>cssClasses.list</code><td align=left>string<td align=left>toc-level<td align=left>The CSS class name for all <code>&#60ol></code> elements in the table of contents, including the top-level one.<tr><td align=left><code>cssClasses.listItem</code><td align=left>string<td align=left>toc-item<td align=left>The CSS class name for all <code>&#60li></code> elements in the table of contents.<tr><td align=left><code>cssClasses.link</code><td align=left>string<td align=left>toc-link<td align=left>The CSS class name for all <code>&#60a></code> elements in the table of contents.<tr><td align=left><code>customizeTOC</code><td align=left>function(toc)<td align=left><td align=left>Allows you to customize the table of contents before it is added to the page.<br><br>The function receives the TOC node tree and can modify it in any way you want. Or you can return a new node tree to use instead. Or return <code>false</code> to prevent the the TOC from being added to the page.<tr><td align=left><code>customizeTOCItem</code><td align=left>function(toc, heading)<td align=left><td align=left>Allows you to customize each item in the table of contents before it is added to the page.<br><br>The function receives the TOC item's node tree and the heading node that it refers to. You can modify the nodes in any way you want. Or you can return a new node tree to use instead. Or return <code>false</code> to prevent the the TOC from being added to the page.</table><h2 id=contributing><a href=#contributing class=anchor aria-label="Link to self"><svg class=icon height=18 viewBox="0 0 50 50"width=18 aria-hidden=true><path d="M45.647 20.955L33.339 33.263a8.7 8.7 0 01-12.308 0l-4.103-4.103 4.103-4.102 4.102 4.102a2.903 2.903 0 004.103 0l12.307-12.307a2.907 2.907 0 000-4.104l-4.102-4.103a2.906 2.906 0 00-4.103 0l-4.394 4.395a11.542 11.542 0 00-6.644-1.559l6.936-6.938c3.4-3.399 8.91-3.399 12.307 0l4.103 4.102a8.702 8.702 0 010 12.309zM21.32 37.076l-4.392 4.391a2.903 2.903 0 01-4.102 0l-4.103-4.102a2.9 2.9 0 010-4.103L21.03 20.954a2.906 2.906 0 014.103 0l4.102 4.103 4.102-4.103-4.102-4.102a8.704 8.704 0 00-12.308 0L4.621 29.159a8.7 8.7 0 000 12.308l4.102 4.102c3.397 3.4 8.908 3.4 12.308 0l6.936-6.936a11.602 11.602 0 01-6.647-1.558z"fill=currentcolor /></svg></a>Contributing</h2><p>Contributions, enhancements, and bug-fixes are welcome! <a href=https://github.com/JS-DevTools/rehype-toc/issues rel="nofollow noopener noreferrer">File an issue</a> on GitHub and <a href=https://github.com/JS-DevTools/rehype-toc/pulls rel="nofollow noopener noreferrer">submit a pull request</a>.<h4 id=building><a href=#building class=anchor aria-label="Link to self"><svg class=icon height=18 viewBox="0 0 50 50"width=18 aria-hidden=true><path d="M45.647 20.955L33.339 33.263a8.7 8.7 0 01-12.308 0l-4.103-4.103 4.103-4.102 4.102 4.102a2.903 2.903 0 004.103 0l12.307-12.307a2.907 2.907 0 000-4.104l-4.102-4.103a2.906 2.906 0 00-4.103 0l-4.394 4.395a11.542 11.542 0 00-6.644-1.559l6.936-6.938c3.4-3.399 8.91-3.399 12.307 0l4.103 4.102a8.702 8.702 0 010 12.309zM21.32 37.076l-4.392 4.391a2.903 2.903 0 01-4.102 0l-4.103-4.102a2.9 2.9 0 010-4.103L21.03 20.954a2.906 2.906 0 014.103 0l4.102 4.103 4.102-4.103-4.102-4.102a8.704 8.704 0 00-12.308 0L4.621 29.159a8.7 8.7 0 000 12.308l4.102 4.102c3.397 3.4 8.908 3.4 12.308 0l6.936-6.936a11.602 11.602 0 01-6.647-1.558z"fill=currentcolor /></svg></a>Building</h4><p>To build the project locally on your computer:<ol><li><p><strong>Clone this repo</strong><br><code>git clone https://github.com/JS-DevTools/rehype-toc.git</code><li><p><strong>Install dependencies</strong><br><code>npm install</code><li><p><strong>Build the code</strong><br><code>npm run build</code><li><p><strong>Run the tests</strong><br><code>npm test</code></ol><h2 id=license><a href=#license class=anchor aria-label="Link to self"><svg class=icon height=18 viewBox="0 0 50 50"width=18 aria-hidden=true><path d="M45.647 20.955L33.339 33.263a8.7 8.7 0 01-12.308 0l-4.103-4.103 4.103-4.102 4.102 4.102a2.903 2.903 0 004.103 0l12.307-12.307a2.907 2.907 0 000-4.104l-4.102-4.103a2.906 2.906 0 00-4.103 0l-4.394 4.395a11.542 11.542 0 00-6.644-1.559l6.936-6.938c3.4-3.399 8.91-3.399 12.307 0l4.103 4.102a8.702 8.702 0 010 12.309zM21.32 37.076l-4.392 4.391a2.903 2.903 0 01-4.102 0l-4.103-4.102a2.9 2.9 0 010-4.103L21.03 20.954a2.906 2.906 0 014.103 0l4.102 4.103 4.102-4.103-4.102-4.102a8.704 8.704 0 00-12.308 0L4.621 29.159a8.7 8.7 0 000 12.308l4.102 4.102c3.397 3.4 8.908 3.4 12.308 0l6.936-6.936a11.602 11.602 0 01-6.647-1.558z"fill=currentcolor /></svg></a>License</h2><p>Rehype TOC is 100% free and open-source, under the <a href=https://github.com/JS-DevTools/rehype-toc/blob/master/LICENSE rel="nofollow noopener noreferrer">MIT license</a>. Use it however you want.<h2 id=big-thanks-to><a href=#big-thanks-to class=anchor aria-label="Link to self"><svg class=icon height=18 viewBox="0 0 50 50"width=18 aria-hidden=true><path d="M45.647 20.955L33.339 33.263a8.7 8.7 0 01-12.308 0l-4.103-4.103 4.103-4.102 4.102 4.102a2.903 2.903 0 004.103 0l12.307-12.307a2.907 2.907 0 000-4.104l-4.102-4.103a2.906 2.906 0 00-4.103 0l-4.394 4.395a11.542 11.542 0 00-6.644-1.559l6.936-6.938c3.4-3.399 8.91-3.399 12.307 0l4.103 4.102a8.702 8.702 0 010 12.309zM21.32 37.076l-4.392 4.391a2.903 2.903 0 01-4.102 0l-4.103-4.102a2.9 2.9 0 010-4.103L21.03 20.954a2.906 2.906 0 014.103 0l4.102 4.103 4.102-4.103-4.102-4.102a8.704 8.704 0 00-12.308 0L4.621 29.159a8.7 8.7 0 000 12.308l4.102 4.102c3.397 3.4 8.908 3.4 12.308 0l6.936-6.936a11.602 11.602 0 01-6.647-1.558z"fill=currentcolor /></svg></a>Big Thanks To</h2><p>Thanks to these awesome companies for their support of Open Source developers ❤<p><a href=https://travis-ci.com/ rel="nofollow noopener noreferrer"><img alt="Travis CI"src=https://jstools.dev/img/badges/travis-ci.svg></a> <a href=https://saucelabs.com/ rel="nofollow noopener noreferrer"><img alt=SauceLabs src=https://jstools.dev/img/badges/sauce-labs.svg></a> <a href=https://coveralls.io/ rel="nofollow noopener noreferrer"><img alt=Coveralls src=https://jstools.dev/img/badges/coveralls.svg></a></div></main><footer class=container><nav class="flex row-l"><ol class="row flex x-show-l"><li><a href=/ class=unified><span class=hl>uni</span>fied</a><li><a href=/explore/>Explore</a><li><a href=/learn/>Learn</a><li><a href=/community/>Community</a></ol><ol class="row justify-end-l"><li><a href=https://spectrum.chat/unified>Spectrum</a><li><a href=https://opencollective.com/unified>OpenCollective</a><li><a href=https://twitter.com/unifiedjs>Twitter</a><li><a href=https://github.com/unifiedjs>GitHub</a></ol></nav></footer>